GMP:

 - remove long long check from configure.ac
 - remove .text section check from configure.ac
 - apply patch to config.h
 - reconfigure

emcmake ./configure ABI=32 --disable-assembly
emcmake ./configure --prefix=`pwd`/../installroot/ ABI=32 --disable-assembly
emcmake ./configure --prefix=`pwd`/../installroot/ ABI=64 --disable-assembly

Then have to manually build the commands to generate the static tabs 

gcc -o gen-fib gen-fib.c
gcc -o gen-fac gen-fac.c
gcc -o gen-bases gen-bases.c
gcc -o gen-trialdivtab gen-trialdivtab.c
gcc -o gen-jacobitab gen-jacobitab.c
gcc -o gen-psqr gen-psqr.c

make

----------

Boost

https://dl.bintray.com/boostorg/release/1.67.0/source/boost_1_67_0.tar.bz2

emconfigure ./bootstrap.sh --prefix=`pwd`/../installroot/ --without-icu --without-libraries=thread,python,wave,mpi,test,graph,graph_parallel,locale

edit "project-config.jam"

change

	using gcc : : "/full/path/to/emscripten/em++" ;

./bjam program_options



then in tools/build/v2/tools/gcc.jam add the full path to the emscripten sdk tool instead of $(x[1])

with boost 1.67 its ./tools/build/src/tools/gcc.jam:

	gcc.archive .AR $(condition) : $(archiver[1]) ;


# emconfigure ./bootstrap.sh --prefix=`pwd`/../installroot/ --without-icu --without-libraries=thread,python,wave,mpi,test,graph,graph_parallel,locale

emconfigure ./bootstrap.sh --prefix=`pwd`/../installroot/ --without-icu --with-libraries=program_options

./b2 link=static variant=release runtime-link=static program_options install

TODO:

 - find a cleaner way of doing this which doesn't require hard-coding paths
 - preferably drop in a `user-config.jam` file which sets everything


-----------

OpenSSL

wget https://www.openssl.org/source/openssl-1.1.0h.tar.gz
tar -xf openssl-1.1.0h.tar.gz

emconfigure ./Configure linux-generic32 -no-asm -no-shared -no-hw -no-threads -no-dso --prefix=`pwd`/../installroot/

edit `Makefile` and fix-up `CROSS_COMPILE`, `CC` and `AR` (remove prefix from CC and AR)

then run `make -j 4`

make install_dev

---

make include/openssl/opensslconf.h
make crypto/include/internal/bn_conf.h
make crypto/include/internal/dso_conf.h
make libcrypto.a


----------------


mkdir installroot
mkdir build

cd build

emcmake cmake ..

emcmake cmake .. -DWITH_PROCPS=OFF -DPKG_CONFIG_USE_CMAKE_PREFIX_PATH=ON -DCMAKE_PREFIX_PATH=`pwd`/../installroot/ 

--------------

basic_radix2_domain_aux.tcc

 - need to remove the `asm volatile` sections even though they're empty

 - asm volatile  ("/* pre-inner */");
 - asm volatile ("/* post-inner */");
